webpackJsonp([5],{231:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(37);t.default={created:function(){var e=this;this.$http({url:o.a.ip+"/DeltaRobot/robotinfo/requery.action",method:"POST",data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){e.messages.push({type:"answer",content:t.body.robotInfo.helloReply}),e.isHello=t.isHello},function(e){console.log(e)})},data:function(){return{helloReply:"",isHello:!0,messages:[],myText:"",content:"",recommendList:null,questionContent:"",isLoad:!1,isRecommend:!1}},methods:{sendMessage:function(){var e=this;if(!this.myText)return void alert("输入不能为空");this.isLoad=!0,this.$http({url:o.a.ip+"/DeltaRobot/business/reply.action?userQuestion="+this.myText+"&userId=1",method:"POST",data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){if(console.log(t),t.body.error)return void alert(t.body.error);console.log(t),e.isLoad=!1,1==t.body.businessType||3==t.body.businessType?(e.messages.push({type:"question",content:e.myText}),e.messages.push({type:"answer",content:t.body.answer}),e.questionContent="",e.isRecommend=!1):(e.isRecommend=!0,console.log(t.body.recommend),e.messages.push({type:"question",content:e.myText}),t.body.recommend.forEach(function(t){e.questionContent+=t.questionContent}),e.questionContent&&e.messages.push({type:"answer",content:e.questionContent}),e.recommendList=t.body.recommend),e.myText="",e.content=""},function(e){console.log(e)})},sendRecommend:function(){alert("success"),this.myText=arguments[0].srcElement.innerText,this.sendMessage()}}}},247:function(e,t){},263:function(e,t,s){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"bc"},[s("div",{staticClass:"bc-chat"},[s("div",{staticClass:"bc-chat-header"},[e._v("\n\t\t\tDelta\n\t\t")]),e._v(" "),s("div",{staticClass:"bc-chat-content"},[e._l(e.messages,function(t){return"answer"==t.type?s("div",{staticClass:"bc-chat-content-message"},[[s("div",{staticClass:"demo-avatar"},[s("Avatar",{attrs:{src:"https://i.loli.net/2017/08/21/599a521472424.jpg"}})],1)],e._v(" "),[s("div",{staticStyle:{background:"#eee",padding:"20px"}},[s("Card",{attrs:{bordered:!1}},[s("p",{attrs:{slot:"title"},slot:"title"},[e._v("Delta say")]),e._v(" "),e.isRecommend&&"你好"!=t.content?e._l(e.recommendList,function(t){return s("p",{on:{click:e.sendRecommend}},[e._v(e._s(t.questionContent))])}):s("p",{domProps:{innerHTML:e._s(t.content)}})],2)],1)]],2):s("div",{staticClass:"bc-chat-content-message"},[[s("div",{staticClass:"demo-avatar"},[s("Avatar",{staticStyle:{"background-color":"#87d068"},attrs:{icon:"person"}})],1),e._v(" "),[s("div",{staticStyle:{background:"#eee",padding:"20px"}},[s("Card",{attrs:{bordered:!1}},[s("p",{attrs:{slot:"title"},slot:"title"},[e._v("you say")]),e._v(" "),s("p",{domProps:{innerHTML:e._s(t.content)}})])],1)]]],2)}),e._v(" "),[s("Row",[s("Col",{directives:[{name:"show",rawName:"v-show",value:e.isLoad,expression:"isLoad"}],staticClass:"demo-spin-col",attrs:{span:"8"}},[s("Spin",{attrs:{fix:""}},[s("Icon",{staticClass:"demo-spin-icon-load",attrs:{type:"load-c",size:"18"}}),e._v(" "),s("div",[e._v("Loading")])],1)],1)],1)]],2),e._v(" "),s("div",{staticClass:"bc-chat-enter"},[s("div",{staticClass:"bc-chat-enter-content"},[[s("Input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:8},placeholder:"Enter something..."},model:{value:e.myText,callback:function(t){e.myText=t},expression:"myText"}})]],2),e._v(" "),s("div",{staticClass:"bu-chat-enter-send"},[[s("Button",{attrs:{type:"primary",shape:"circle"},on:{click:e.sendMessage}},[e._v("发送")])]],2)])])])},staticRenderFns:[]},e.exports.render._withStripped=!0},30:function(e,t,s){s(247);var o=s(9)(s(231),s(263),"data-v-b61b65e8",null);o.options.__file="F:\\Delta\\iview-project-2.0 (1)\\iview-project-2.0 (1)\\iview-project-2.0\\src\\views\\userChatBues.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] userChatBues.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},37:function(e,t,s){"use strict";t.a={ip:"http://localhost:8888"}}});