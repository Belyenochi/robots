webpackJsonp([6],{230:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(37);t.default={created:function(){var e=this;this.$http({url:o.a.ip+"/DeltaRobot/qa/unkquery.action?userQuestion="+this.questionContent+"&currentPage="+this.currentPage+"&perPageCount=8",method:"POST",data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){for(var n=0;n<t.body.questions.length;n++)console.log(t),e.tableData.push({labelId:1,labelName:"未知",questionContent:t.body.questions[n].userQuestion.questionContent,count:t.body.questions[n].count,answer:t.body.unkanswer}),e.pageNum++;e.pageCount=t.body.pageCount},function(e){console.log(e)}),this.$http({url:o.a.ip+"/DeltaRobot/qa/labquery.action",method:"POST",data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){for(var n=0;n<t.body.labels.length;n++)e.labelList.push({labelId:t.body.labels[n].labelId,labelName:t.body.labels[n].labelName})},function(e){console.log(e)})},data:function(){var e=this;return{columns1:[{type:"selection",width:60,align:"center",render:function(e,t){return e("div",[e("Icon",{props:{type:"person"}}),e("strong",t.row.name)])}},{title:"标签名",key:"labelName"},{title:"用户输入",key:"questionContent"},{title:"询问次数",key:"count"},{title:"操作",key:"action",width:350,align:"center",render:function(t,n){return t("div",[t("Button",{props:{type:"error",size:"small",shape:"circle"},style:{width:"70px",marginRight:"5px"},on:{click:function(){e.remove(n)}}},"取关"),t("Button",{props:{type:"primary",size:"small",shape:"circle"},style:{width:"70px",marginRight:"5px"},on:{click:function(){e.detail(n)}}},"详情"),t("Button",{props:{type:"primary",size:"small",shape:"circle"},style:{width:"70px",marginRight:"5px"},on:{click:function(){e.other(n)}}},"其他")])}}],tableData:[],labelList:[],labelName:"",labelId:"",questionContent:"",selectData:[],currentPage:1,pageCount:8,error:"",answer:"",selectQuestionContent:"",selectAnswer:"",selectLabelId:"",isDelete:!1,isDetail:!1,isOther:!1,pageNum:0}},methods:{remove:function(e){this.questionContent=e.row.questionContent,this.isDelete=!0},detail:function(e){console.log("详情： ",e.row),this.selectQuestionContent=e.row.questionContent,this.selectAnswer=e.row.answer,this.isDetail=!0},other:function(e){console.log(e),this.selectQuestionContent=e.row.questionContent,this.isOther=!0},updateSelectData:function(e){var t=this;console.log(e),e.forEach(function(e){t.selectData.push({userQuestion:e.questionContent})})},deleteQuesAnse:function(){var e=this;this.$http.post(o.a.ip+"/DeltaRobot/qa/ignore.action",{type:5,questions:this.selectData}).then(function(t){if(e.error=t.body.error,e.error)return void alert(e.error);alert("删除成功!"),e.updateTable()},function(e){console.log(e)})},doRelatedOther:function(){var e=this;this.$http({url:o.a.ip+"/DeltaRobot/qa/relevance.action?labelId="+this.selectLabelId+"&questionContent="+this.selectQuestionContent,method:"POST",data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){if(e.error=t.body.error,e.error)return void alert(e.error);e.updateTable()},function(e){console.log(e)})},updateTable:function(){var e=this;this.$http({url:o.a.ip+"/DeltaRobot/qa/unkquery.action?userQuestion="+this.questionContent+"&currentPage="+this.currentPage+"&perPageCount=8",method:"POST",data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){e.tableData=[],e.pageNum=0;for(var n=0;n<t.body.questions.length;n++)e.tableData.push({labelId:1,labelName:"未知",questionContent:t.body.questions[n].userQuestion.questionContent,count:t.body.questions[n].count,answer:t.body.unkanswer}),e.pageNum++;e.pageCount=t.body.pageCount},function(e){console.log(e)})},changePage:function(e){this.currentPage=e,this.updateTable()},doRelated:function(){var e=this;this.$http({url:o.a.ip+"/DeltaRobot/qa/relevance.action?labelId="+this.labelId+"&questionContent="+this.questionContent,method:"POST",data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){if(e.error=t.body.error,e.error)return void alert(e.error);e.updateTable()},function(e){console.log(e)})},doDelete:function(){var e=this;console.log("test"),this.$http.post(o.a.ip+"/DeltaRobot/qa/ignore.action",{type:5,questions:[{userQuestion:this.questionContent}]}).then(function(t){if(e.error=t.body.error,e.error)return void alert(e.error);e.questionContent="",e.updateTable()},function(e){console.log(e)})},seeDetail:function(){},cancel:function(){}}}},238:function(e,t){},254:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"settings"},[e._m(0),e._v(" "),n("div",{staticClass:"settings-body"},[n("div",{staticClass:"msg"},[e._v("已创建"),n("span",{domProps:{innerHTML:e._s(e.pageNum)}}),e._v("个未知问答")]),e._v(" "),n("div",{staticClass:"settings-body-condition"},[n("div",{staticClass:"settings-body-condition-select"},[[n("Input",{staticStyle:{width:"200px"},attrs:{icon:"ios-clock-outline",placeholder:"Enter something..."},on:{"on-enter":e.updateTable},model:{value:e.labelName,callback:function(t){e.labelName=t},expression:"labelName"}})]],2),e._v(" "),n("div",{staticClass:"settings-body-condition-settings"},[n("div",{staticClass:"settings-body-condition-settings-button"},[[n("Button",{attrs:{type:"error"},on:{click:e.deleteQuesAnse}},[e._v("删除选中")])]],2)])]),e._v(" "),n("div",{staticClass:"settings-body-table"},[[n("Table",{attrs:{columns:e.columns1,data:e.tableData},on:{"on-select":e.updateSelectData,"on-select-all":e.updateSelectData}})]],2),e._v(" "),n("div",{staticClass:"settings-body-table-page"},[[n("Page",{attrs:{total:8*e.pageCount,"page-size":8,current:this.currentPage,"show-elevator":""},on:{"on-change":e.changePage}})]],2),e._v(" "),[n("Modal",{attrs:{title:"确认"},on:{"on-ok":e.doDelete,"on-cancel":e.cancel},model:{value:e.isDelete,callback:function(t){e.isDelete=t},expression:"isDelete"}},[n("p",[e._v("确定取消关联吗？")])])],e._v(" "),[n("Modal",{attrs:{title:"查看详情"},on:{"on-ok":e.seeDetail,"on-cancel":e.cancel},model:{value:e.isDetail,callback:function(t){e.isDetail=t},expression:"isDetail"}},[n("span",[e._v("用户输入")]),e._v(" "),n("span",{staticStyle:{"margin-left":"20px","margin-right":"20px"},domProps:{innerHTML:e._s(e.selectQuestionContent)}}),e._v(" "),n("span",[e._v("系统回答")]),e._v(" "),n("span",{staticStyle:{"margin-left":"20px","margin-right":"20px"},domProps:{innerHTML:e._s(e.selectAnswer)}})])],e._v(" "),[n("Modal",{attrs:{title:"关联到其他"},on:{"on-ok":e.doRelatedOther,"on-cancel":e.cancel},model:{value:e.isOther,callback:function(t){e.isOther=t},expression:"isOther"}},[n("span",{staticStyle:{"margin-right":"20px"}},[e._v("标签")]),e._v(" "),[n("Select",{staticStyle:{width:"200px"},model:{value:e.selectLabelId,callback:function(t){e.selectLabelId=t},expression:"selectLabelId"}},e._l(e.labelList,function(t){return n("Option",{attrs:{value:t.labelId}},[e._v(e._s(t.labelName))])}))]],2)]],2)])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"settings-header"},[n("span",[e._v("未知学习")])])}]},e.exports.render._withStripped=!0},29:function(e,t,n){n(238);var o=n(9)(n(230),n(254),"data-v-0670aa50",null);o.options.__file="F:\\Delta\\iview-project-2.0 (1)\\iview-project-2.0 (1)\\iview-project-2.0\\src\\views\\unknownLearning.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] unknownLearning.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},37:function(e,t,n){"use strict";t.a={ip:"http://localhost:8888"}}});